<!doctype html>
<html lang="ar" dir="rtl">
<head>
<meta charset="utf-8" />
<meta name="viewport" content="width=device-width, initial-scale=1" />
<title>Ø§Ø³ØªÙˆØ¯ÙŠÙˆ Ø§Ù„Ø¥Ø¨Ø¯Ø§Ø¹ Ø§Ù„Ø¨ØµØ±ÙŠ - Ø·Ù„Ø¨ Ø¥Ø¹Ù„Ø§Ù†</title>
<meta name="description" content="Ø§Ø³ØªÙˆØ¯ÙŠÙˆ Ø§Ù„Ø¥Ø¨Ø¯Ø§Ø¹ Ø§Ù„Ø¨ØµØ±ÙŠ - Ù†ØµÙ†Ø¹ Ù„Ùƒ Ø¥Ø¹Ù„Ø§Ù†Ø§Øª Ù…Ø­ØªØ±ÙØ© Ø¨Ø¬ÙˆØ¯Ø© ÙˆØ³Ø±Ø¹Ø© Ø¹Ø§Ù„ÙŠØ©">
<meta name="keywords" content="Ø¥Ø¹Ù„Ø§Ù†Ø§Øª, ØªØµÙ…ÙŠÙ…, Ø§Ø³ØªÙˆØ¯ÙŠÙˆ, Ø¨ØµØ±ÙŠ, Ø¥Ù†ØªØ§Ø¬, Ø­Ù…Ù„Ø© ØªØ³ÙˆÙŠÙ‚ÙŠØ©">
<meta name="robots" content="index, follow">
<style>
  *{box-sizing:border-box;margin:0;padding:0}
  body{font-family:sans-serif;background:#0d0f2c;color:#fff;line-height:1.5;padding-bottom:40px;}
  .container{max-width:980px;margin:18px auto;padding:0 12px;}
  .hero{padding:18px 12px;text-align:center;border-radius:12px;background:#121640;margin-bottom:12px;}
  .hero h1{font-size:24px;margin-bottom:6px}
  .grid{display:grid;grid-template-columns:1fr;gap:12px}
  @media(min-width:880px){ .grid{grid-template-columns:1fr 380px} }
  .card{background:#121640;padding:14px;border-radius:12px;box-shadow:0 6px 18px #0007}
  label{display:block;margin:8px 0 6px;font-weight:700}
  input[type="text"], input[type="tel"], input[type="password"], textarea, input[type="number"]{
    width:100%;padding:10px;border-radius:10px;border:none;background:#242b6a;color:#fff;margin-bottom:8px;
  }
  textarea{min-height:90px;resize:vertical}
  .drop{width:100%;height:120px;border:2px dashed #ff7ab0;border-radius:12px;display:flex;align-items:center;justify-content:center;flex-direction:column;cursor:pointer;background:#242b6a44}
  .btn{width:100%;padding:12px;border-radius:10px;border:none;font-weight:700;background:#ff4dbb;color:#fff;cursor:pointer}
  .orders-box{background:#23265a;padding:10px;border-radius:10px;margin-bottom:10px;position:relative;border-left:4px solid #ff4dbb}
  .small-btn{padding:6px 10px;border-radius:8px;border:none;cursor:pointer}
  .del{background:#ff3b3b;color:#fff}
  .ok{background:#25b25a;color:#fff}
  .muted{opacity:.85;font-size:14px}
  footer{margin-top:18px;padding:18px;text-align:center;border-top:1px solid #1a1f4d;color:#cfcfcf}
  .settings-row{display:flex;gap:8px;align-items:center;margin-bottom:8px;flex-wrap:wrap}
  .color-input{width:56px;height:36px;padding:0;border-radius:8px;border:none}
  .meta{font-size:13px;opacity:.9}
  .pay-info{background:#18203f;padding:10px;border-radius:8px;margin-top:8px;font-size:14px}
  .tag{display:inline-block;padding:4px 8px;background:#0f1130;border-radius:10px;margin-left:6px;font-size:13px}
</style>
</head>
<body>
  <div class="container">
    <div class="hero card">
      <h1>Ø§Ø³ØªÙˆØ¯ÙŠÙˆ Ø§Ù„Ø¥Ø¨Ø¯Ø§Ø¹ Ø§Ù„Ø¨ØµØ±ÙŠ</h1>
      <p class="muted">ØµÙ…Ù‘Ù… Ø¥Ø¹Ù„Ø§Ù†Ùƒ Ø§Ù„Ø¢Ù† â€” Ø§Ø®ØªØ± ÙˆØ³ÙŠÙ„Ø© Ø§Ù„Ø¯ÙØ¹ Ø§Ù„Ù…ÙØ¶Ù„Ø© Ø«Ù… Ø£Ø±Ø³Ù„ Ø§Ù„Ø·Ù„Ø¨. (ÙˆØ§Ø¬Ù‡Ø© ØªØ¬Ø±ÙŠØ¨ÙŠØ© Ù„Ù„Ø¯ÙØ¹Ø§Øª)</p>
      <div class="meta">ğŸ“ Ø¯Ø¹Ù…: <b id="supportNum">078120225</b> â€” Ø¥Ø¯Ø§Ø±Ø© Ø§Ù„Ø·Ù„Ø¨Ø§Øª: <b id="adminNum">0786277606</b> â€” âš¡ ÙƒÙØ§Ù„Ø©: <b id="warranty">Ù†Ø¹Ù…</b></div>
    </div>

    <div class="grid">
      <!-- LEFT : Ù†Ù…ÙˆØ°Ø¬ Ø§Ù„Ø·Ù„Ø¨ -->
      <div>
        <div class="card">
          <h3 style="margin-bottom:8px">Ù‚Ø¯Ù… Ø·Ù„Ø¨Ùƒ Ø§Ù„Ø¢Ù†</h3>

          <label>Ø§Ø³Ù…Ùƒ</label>
          <input id="name" type="text" placeholder="Ø§Ù„Ø§Ø³Ù… Ø§Ù„ÙƒØ§Ù…Ù„">

          <label>Ø§Ù„ÙˆØµÙ Ø§Ù„Ù…Ø·Ù„ÙˆØ¨</label>
          <textarea id="desc" placeholder="ÙˆØµÙ Ø§Ù„Ø¥Ø¹Ù„Ø§Ù† Ø£Ùˆ Ø§Ù„ÙÙƒØ±Ø©"></textarea>

          <label>Ø±Ù‚Ù… Ø§Ù„Ù‡Ø§ØªÙ</label>
          <input id="phone" type="tel" placeholder="07XXXXXXXX">

          <label>Ø¥Ø±ÙØ§Ù‚ ØµÙˆØ±Ø© Ø£Ùˆ ÙÙŠØ¯ÙŠÙˆ (Ø§Ø®ØªÙŠØ§Ø±ÙŠ)</label>
          <div id="dropArea" class="drop"><span style="font-size:28px">ï¼‹</span><div class="muted">Ø§Ø¶ØºØ· Ø£Ùˆ Ø§Ø³Ø­Ø¨ Ù…Ù„Ù Ù‡Ù†Ø§</div></div>
          <input id="media" type="file" accept="image/*,video/*" style="display:none">

          <hr style="margin:12px 0;border:none;border-top:1px solid #1a1f4d">

          <label>Ø§Ø®ØªØ± Ø·Ø±ÙŠÙ‚Ø© Ø§Ù„Ø¯ÙØ¹</label>
          <div>
            <label><input type="radio" name="pay" value="card" checked> ÙÙŠØ²Ø§ / Ø¨Ø·Ø§Ù‚Ø©</label>
            <label><input type="radio" name="pay" value="uwallet"> ÙŠÙˆ ÙˆØ§Ù„ÙŠØª (UWallet)</label>
            <label><input type="radio" name="pay" value="islamic_card"> ÙÙŠØ²Ø§ Ø§Ù„Ø¨Ù†Ùƒ Ø§Ù„Ø¥Ø³Ù„Ø§Ù…ÙŠ (ØªØ­ÙˆÙŠÙ„ Ø¨Ù†ÙƒÙŠ/ØªØ¹Ù„ÙŠÙ…Ø§Øª)</label>
          </div>

          <!-- ØªÙØ§ØµÙŠÙ„ Ø§Ù„Ø¯ÙØ¹ Ø§Ù„Ø¯ÙŠÙ†Ø§Ù…ÙŠÙƒÙŠØ© -->
          <div id="paymentDetails" class="pay-info">
            <!-- Ø¨Ø·Ø§Ù‚Ø© -->
            <div id="cardForm">
              <label>Ø§Ø³Ù… Ø­Ø§Ù…Ù„ Ø§Ù„Ø¨Ø·Ø§Ù‚Ø©</label>
              <input id="cardName" type="text" placeholder="ÙƒÙ…Ø§ Ù‡Ùˆ Ø¹Ù„Ù‰ Ø§Ù„Ø¨Ø·Ø§Ù‚Ø©">
              <label>Ø±Ù‚Ù… Ø§Ù„Ø¨Ø·Ø§Ù‚Ø© (Ù†Ù…Ø§Ø°Ø¬ ÙÙ‚Ø·)</label>
              <input id="cardNumber" type="text" placeholder="xxxx xxxx xxxx xxxx">
              <div style="display:flex;gap:8px;">
                <input id="cardExp" type="text" placeholder="MM/YY" style="flex:1">
                <input id="cardCvv" type="text" placeholder="CVV" style="width:120px">
              </div>
              <div class="muted" style="margin-top:6px">Ù…Ù„Ø§Ø­Ø¸Ø©: Ù‡Ø°Ù‡ Ø­Ù‚ÙˆÙ„ Ù„Ù„Ù…Ø¸Ù‡Ø± ÙÙ‚Ø· â€” Ù„Ø¨Ø¯Ø¡ Ø¯ÙØ¹Ø§Øª Ø­Ù‚ÙŠÙ‚ÙŠØ© ØªØ­ØªØ§Ø¬ Ø¨ÙˆØ§Ø¨Ø© Ø¯ÙØ¹ ÙˆØ®Ø§Ø¯Ù… Ø¢Ù…Ù†.</div>
            </div>

            <!-- UWallet -->
            <div id="uwalletForm" style="display:none">
              <label>Ù…Ø¹Ø±Ù Ø§Ù„Ù…Ø­ÙØ¸Ø© / Ø±Ù‚Ù… Ø§Ù„ÙŠÙˆ ÙˆØ§Ù„ÙŠØª</label>
              <input id="uwalletId" type="text" placeholder="Ù…Ø«Ø§Ù„: UW-123456">
              <div class="muted">Ø³ØªØ­ÙˆÙ„ Ù‚ÙŠÙ…Ø© Ø§Ù„Ø¯ÙØ¹ Ø¥Ù„Ù‰ Ù…Ø­ÙØ¸ØªÙ†Ø§ØŒ Ø«Ù… Ø§Ø¶ØºØ· Ø¹Ù„Ù‰ "Ø¥Ø±Ø³Ø§Ù„ Ø§Ù„Ø·Ù„Ø¨" ÙˆØ£Ø±Ø³Ù„ Ø¥Ø«Ø¨Ø§Øª Ø§Ù„ØªØ­ÙˆÙŠÙ„ Ø¥Ù„Ù‰ Ø±Ù‚Ù… Ø§Ù„Ø¯Ø¹Ù….</div>
            </div>

            <!-- Ø§Ù„Ø¨Ù†Ùƒ Ø§Ù„Ø¥Ø³Ù„Ø§Ù…ÙŠ -->
            <div id="islamicForm" style="display:none">
              <label>ØªØ¹Ù„ÙŠÙ…Ø§Øª ØªØ­ÙˆÙŠÙ„ ÙÙŠØ²Ø§ Ø§Ù„Ø¨Ù†Ùƒ Ø§Ù„Ø¥Ø³Ù„Ø§Ù…ÙŠ</label>
              <div class="muted">1) Ù‚Ù… Ø¨Ø¥Ø¬Ø±Ø§Ø¡ ØªØ­ÙˆÙŠÙ„ Ø¨Ù†ÙƒÙŠ/Ø¨Ø·Ø§Ù‚Ø© Ø¥Ù„Ù‰ Ø­Ø³Ø§Ø¨Ù†Ø§ Ù„Ø¯Ù‰ Ø§Ù„Ø¨Ù†Ùƒ Ø§Ù„Ø¥Ø³Ù„Ø§Ù…ÙŠ.<br>2) Ø£Ø±Ø³Ù„ Ø¥ÙŠØµØ§Ù„ Ø§Ù„ØªØ­ÙˆÙŠÙ„ (ØµÙˆØ±Ø©) Ù…Ø¹ Ø§Ù„Ø·Ù„Ø¨ Ø£Ùˆ Ø¥Ù„Ù‰ Ø±Ù‚Ù… Ø§Ù„Ø¥Ø¯Ø§Ø±Ø©.<br>3) Ø¨Ø¹Ø¯ Ø§Ù„ØªØ­Ù‚Ù‚ Ù†Ø¤ÙƒØ¯ Ø§Ù„Ø¯ÙØ¹ ÙˆÙ†Ø¨Ø¯Ø£ Ø§Ù„ØªÙ†ÙÙŠØ°.</div>
              <div style="margin-top:8px"><b>Ø§Ø³Ù… Ø§Ù„Ø­Ø³Ø§Ø¨:</b> Ø§Ø³ØªÙˆØ¯ÙŠÙˆ Ø§Ù„Ø¥Ø¨Ø¯Ø§Ø¹ Ø§Ù„Ø¨ØµØ±ÙŠ <br><b>Ø§Ù„Ø¨Ù†Ùƒ:</b> Ø§Ù„Ø¨Ù†Ùƒ Ø§Ù„Ø¥Ø³Ù„Ø§Ù…ÙŠ (Ù…Ø«Ø§Ù„)</div>
            </div>
          </div>

          <button class="btn" onclick="sendOrder()">Ø¥Ø±Ø³Ø§Ù„ Ø§Ù„Ø·Ù„Ø¨ ÙˆØ¯ÙØ¹ Ø¬Ø²Ø¦ÙŠ/ØªØ£ÙƒÙŠØ¯</button>
        </div>

        <!-- Ù…Ø¹Ù„ÙˆÙ…Ø§Øª Ø¥Ø¶Ø§ÙÙŠØ© / Ø³ÙŠØ§Ø³Ø© -->
        <div style="margin-top:12px" class="card">
          <h4>Ø·Ø±ÙŠÙ‚Ø© Ø§Ù„Ø¹Ù…Ù„ Ø¹Ù„Ù‰ Ø§Ù„Ø¯ÙØ¹Ø§Øª</h4>
          <p class="muted">ÙŠÙ…ÙƒÙ† Ù‚Ø¨ÙˆÙ„ Ø¯ÙØ¹Ø© Ø¬Ø²Ø¦ÙŠØ© Ø£Ùˆ Ø¯ÙØ¹ ÙƒØ§Ù…Ù„ Ù‚Ø¨Ù„ Ø§Ù„Ø¨Ø¯Ø¡. Ù„Ø¥ØªÙ…Ø§Ù… Ø¯ÙØ¹Ø§Øª Ø­Ù‚ÙŠÙ‚ÙŠØ© Ø§Ø±Ø¨Ø· Ø¨ÙˆØ§Ø¨Ø© Ø¯ÙØ¹ Ø¢Ù…Ù†Ø© Ø¹Ù„Ù‰ Ø§Ù„Ø®Ø§Ø¯Ù… Ø£Ùˆ Ø§Ø³ØªØ®Ø¯Ù… Ø¨ÙˆØ§Ø¨Ø© Ø¨Ù†ÙƒÙŠØ© Ù…Ø­Ù„ÙŠØ©. Ù‡Ù†Ø§ Ù†Ù‚Ø¯Ù… ÙˆØ§Ø¬Ù‡Ø© Ù„ØªØ¬Ø±Ø¨Ø© Ø§Ù„Ø¥Ø¯Ø§Ø±Ø© ÙˆØªØ³Ø¬ÙŠÙ„ Ø­Ø§Ù„Ø© Ø§Ù„Ø¯ÙØ¹.</p>
        </div>
      </div>

      <!-- RIGHT : Ø§Ù„Ø¥Ø¯Ø§Ø±Ø© ÙˆØ§Ù„Ø¥Ø¹Ø¯Ø§Ø¯Ø§Øª -->
      <div>
        <div class="card">
          <h3>ØªØ³Ø¬ÙŠÙ„ Ø¯Ø®ÙˆÙ„ Ø§Ù„Ù…Ø³Ø¤ÙˆÙ„</h3>
          <input id="pass" type="password" placeholder="ÙƒÙ„Ù…Ø© Ø§Ù„Ø³Ø±">
          <button class="btn" onclick="login()">Ø¯Ø®ÙˆÙ„</button>

          <div id="adminPanel" style="display:none;margin-top:12px">
            <h4>Ø§Ù„Ø·Ù„Ø¨Ø§Øª Ø§Ù„Ù…Ø³ØªÙ„Ù…Ø© <span class="tag" id="ordersCount">0</span></h4>
            <div id="ordersList" style="max-height:360px;overflow:auto;margin-top:8px"></div>

            <hr style="margin:12px 0;border:none;border-top:1px solid #1a1f4d">

            <h4>Ø¥Ø¹Ø¯Ø§Ø¯Ø§Øª Ø§Ù„Ù…ÙˆÙ‚Ø¹</h4>
            <div class="settings-row">
              <label>Ø®Ù„ÙÙŠØ©</label>
              <input id="bgColor" class="color-input" type="color">
              <label>Ù†Øµ</label>
              <input id="textColor" class="color-input" type="color">
              <label>Ø£Ø²Ø±Ø§Ø±</label>
              <input id="btnColor" class="color-input" type="color">
            </div>

            <div class="settings-row">
              <label>Ø±Ù‚Ù… Ø§Ù„Ø¯Ø¹Ù…:</label>
              <input id="supportInput" type="text" placeholder="078120225" style="flex:1">
            </div>
            <div class="settings-row">
              <label>Ø±Ù‚Ù… Ø§Ù„Ø¥Ø¯Ø§Ø±Ø©:</label>
              <input id="adminInput" type="text" placeholder="0786277606" style="flex:1">
            </div>
            <div class="settings-row">
              <label>Ø§Ù„ÙƒÙØ§Ù„Ø© (Ù†Øµ):</label>
              <input id="warrantyInput" type="text" placeholder="Ù…Ø«Ø§Ù„: Ù†Ø¹Ù…" style="flex:1">
            </div>

            <button class="btn" style="margin-top:8px" onclick="saveSettings()">Ø­ÙØ¸ Ø§Ù„Ø¥Ø¹Ø¯Ø§Ø¯Ø§Øª</button>
          </div>
        </div>
      </div>

    </div>

    <footer>
      <div id="footerInfo">Â© Ø¬Ù…ÙŠØ¹ Ø§Ù„Ø­Ù‚ÙˆÙ‚ Ù…Ø­ÙÙˆØ¸Ø©</div>
    </footer>
  </div>

<script>
/* ========== ØªØ¹Ø§Ù…Ù„ Ø§Ù„Ø³Ø­Ø¨ ÙˆØ§Ù„Ù…Ù„ÙØ§Øª ========== */
const drop = document.getElementById('dropArea');
const mediaInput = document.getElementById('media');
drop.onclick = ()=> mediaInput.click();
drop.ondragover = e=>{ e.preventDefault(); drop.style.background="#242b6acc"; };
drop.ondragleave = ()=> drop.style.background="#242b6a44";
drop.ondrop = e=>{ e.preventDefault(); drop.style.background="#242b6a44"; mediaInput.files = e.dataTransfer.files; };

/* ========== ØªØ­Ù…ÙŠÙ„ Ø§Ù„Ø¨ÙŠØ§Ù†Ø§Øª Ø§Ù„Ù…Ø­ÙÙˆØ¸Ø© ========== */
let orders = JSON.parse(localStorage.getItem('orders')) || [];
let settings = JSON.parse(localStorage.getItem('siteSettings')) || {
  bg: '#0d0f2c', text: '#ffffff', btn: '#ff4dbb',
  support: '078120225', admin: '0786277606', warranty: 'Ù†Ø¹Ù…'
};

/* ØªØ·Ø¨ÙŠÙ‚ Ø§Ù„Ø¥Ø¹Ø¯Ø§Ø¯Ø§Øª (Ø£Ù„ÙˆØ§Ù†ØŒ Ø£Ø±Ù‚Ø§Ù…...) */
function applySettings(){
  document.body.style.background = settings.bg;
  document.body.style.color = settings.text;
  document.querySelectorAll('.btn').forEach(b=> b.style.background = settings.btn);
  document.getElementById('supportNum').textContent = settings.support;
  document.getElementById('adminNum').textContent = settings.admin;
  document.getElementById('warranty').textContent = settings.warranty;
  document.getElementById('footerInfo').textContent = `Ø§Ù„Ø¯Ø¹Ù…: ${settings.support} â€” Ø¥Ø¯Ø§Ø±Ø©: ${settings.admin} â€” ÙƒÙØ§Ù„Ø©: ${settings.warranty}`;
}
applySettings();

/* ===================== Ø¹Ø±Ø¶/Ø§Ø®ØªÙŠØ§Ø± Ø·Ø±Ù‚ Ø§Ù„Ø¯ÙØ¹ Ø¯ÙŠÙ†Ø§Ù…ÙŠÙƒÙŠØ§Ù‹ ===================== */
const payRadios = document.getElementsByName('pay');
function updatePaymentUI(){
  const val = Array.from(payRadios).find(r=>r.checked).value;
  document.getElementById('cardForm').style.display = (val==='card')?'block':'none';
  document.getElementById('uwalletForm').style.display = (val==='uwallet')?'block':'none';
  document.getElementById('islamicForm').style.display = (val==='islamic_card')?'block':'none';
}
Array.from(payRadios).forEach(r=> r.addEventListener('change', updatePaymentUI));
updatePaymentUI();

/* ===================== Ø¥Ø±Ø³Ø§Ù„ Ø§Ù„Ø·Ù„Ø¨ ===================== */
function renumberOrders(){
  orders.forEach((o,i)=> o.number = i+1);
  localStorage.setItem('orders', JSON.stringify(orders));
}

function sendOrder(){
  const name = document.getElementById('name').value.trim();
  const desc = document.getElementById('desc').value.trim();
  const phone = document.getElementById('phone').value.trim();
  if(!name || !desc || !phone){ alert('Ø§Ù„Ø±Ø¬Ø§Ø¡ ØªØ¹Ø¨Ø¦Ø© Ø§Ù„Ø­Ù‚ÙˆÙ„ Ø§Ù„Ø£Ø³Ø§Ø³ÙŠØ©'); return; }

  const payMethod = Array.from(payRadios).find(r=>r.checked).value;
  let payment = {method: payMethod, info: null, paid:false, paidAt:null};

  if(payMethod === 'card'){
    // Ù†Ø¬Ù…Ø¹ Ù…Ø¹Ù„ÙˆÙ…Ø§Øª Ù…Ø¸Ù‡Ø±ÙŠØ© ÙÙ‚Ø·
    payment.info = {
      cardName: document.getElementById('cardName').value || '',
      cardNumber: document.getElementById('cardNumber').value || '',
      exp: document.getElementById('cardExp').value || ''
    };
  } else if(payMethod === 'uwallet'){
    payment.info = {uwalletId: document.getElementById('uwalletId').value || ''};
  } else if(payMethod === 'islamic_card'){
    payment.info = {note: 'ØªØ­ÙˆÙŠÙ„ Ø¥Ù„Ù‰ Ø­Ø³Ø§Ø¨ Ø§Ù„Ø¨Ù†Ùƒ Ø§Ù„Ø¥Ø³Ù„Ø§Ù…ÙŠ - Ø£Ø±Ø³Ù„ Ø§Ù„Ø¥ÙŠØµØ§Ù„.'};
  }

  const media = mediaInput.files[0] ? mediaInput.files[0].name : 'Ù„Ù… ÙŠØªÙ… Ø§Ù„Ø¥Ø±ÙØ§Ù‚';
  const order = {
    number: orders.length + 1,
    name, desc, phone, media,
    payment
  };
  orders.push(order);
  localStorage.setItem('orders', JSON.stringify(orders));

  alert(`ØªÙ… Ø¥Ù†Ø´Ø§Ø¡ Ø§Ù„Ø·Ù„Ø¨ Ø±Ù‚Ù… ${order.number}. Ø­Ø§Ù„Ø© Ø§Ù„Ø¯ÙØ¹: ${payment.paid ? 'Ù…Ø¯ÙÙˆØ¹' : 'ØºÙŠØ± Ù…Ø¯ÙÙˆØ¹'}`);
  // Ù…Ø³Ø­ Ø§Ù„Ø­Ù‚ÙˆÙ„
  document.getElementById('name').value='';
  document.getElementById('desc').value='';
  document.getElementById('phone').value='';
  mediaInput.value='';
  document.getElementById('cardName').value='';
  document.getElementById('cardNumber').value='';
  document.getElementById('cardExp').value='';
  document.getElementById('cardCvv').value='';
  document.getElementById('uwalletId').value='';

  // Ù„Ùˆ Ø§Ù„Ù…Ø³Ø¤ÙˆÙ„ Ù…Ø³Ø¬Ù„ Ø¯Ø®ÙˆÙ„Ù‡ØŒ Ø­Ø¯Ø« Ø§Ù„Ù‚Ø§Ø¦Ù…Ø© ÙÙˆØ±Ø§Ù‹
  if(document.getElementById('adminPanel').style.display === 'block') loadOrders();
}

/* ===================== Ø¥Ø¯Ø§Ø±Ø©: ØªØ³Ø¬ÙŠÙ„ Ø§Ù„Ø¯Ø®ÙˆÙ„ØŒ Ø¹Ø±Ø¶ Ø§Ù„Ø·Ù„Ø¨Ø§ØªØŒ Ø­Ø°ÙØŒ ØªØ¹Ù„ÙŠÙ… Ù…Ø¯ÙÙˆØ¹ ===================== */
function login(){
  const p = document.getElementById('pass').value;
  if(p === '2009'){
    document.getElementById('adminPanel').style.display = 'block';
    document.getElementById('pass').value='';
    loadOrders();
    // Ø­Ø· Ø§Ù„Ù‚ÙŠÙ… ÙÙŠ inputs
    document.getElementById('bgColor').value = settings.bg;
    document.getElementById('textColor').value = settings.text;
    document.getElementById('btnColor').value = settings.btn;
    document.getElementById('supportInput').value = settings.support;
    document.getElementById('adminInput').value = settings.admin;
    document.getElementById('warrantyInput').value = settings.warranty;
  } else {
    alert('ÙƒÙ„Ù…Ø© Ø§Ù„Ø³Ø± ØºÙŠØ± ØµØ­ÙŠØ­Ø©');
  }
}

function loadOrders(){
  const box = document.getElementById('ordersList');
  box.innerHTML = '';
  orders.forEach((o, idx)=>{
    const div = document.createElement('div');
    div.className = 'orders-box';
    div.innerHTML = `<div style="font-weight:700;margin-bottom:6px">#${o.number} â€” ${o.name}
      <span style="float:left"><small class="muted">${o.payment.paid ? 'âœ… Ù…Ø¯ÙÙˆØ¹' : 'âŒ ØºÙŠØ± Ù…Ø¯ÙÙˆØ¹'}</small></span></div>
      <div><b>Ø§Ù„ÙˆØµÙ:</b> ${o.desc}</div>
      <div><b>Ø§Ù„Ù‡Ø§ØªÙ:</b> ${o.phone}</div>
      <div><b>Ø§Ù„Ù…Ù„Ù:</b> ${o.media}</div>
      <div style="margin-top:6px"><b>Ø·Ø±ÙŠÙ‚Ø© Ø§Ù„Ø¯ÙØ¹:</b> ${o.payment.method}</div>
      <div style="margin-top:6px;font-size:13px;color:#ddd"><b>Ù…Ø¹Ù„ÙˆÙ…Ø§Øª Ø§Ù„Ø¯ÙØ¹:</b> ${formatPaymentInfo(o.payment.info)}</div>
    `;
    // Ø²Ø± ØªØ­Ø¯ÙŠØ¯ Ù…Ø¯ÙÙˆØ¹
    const payBtn = document.createElement('button');
    payBtn.className = 'small-btn ok';
    payBtn.textContent = o.payment.paid ? 'Ù…ÙØ¯ÙØ¹' : 'ÙˆØ¶Ø¹ Ø¹Ù„Ø§Ù…Ø© Ù…Ø¯ÙÙˆØ¹';
    payBtn.style.marginRight = '8px';
    payBtn.onclick = ()=>{
      if(!o.payment.paid){
        if(confirm('ÙˆØ¶Ø¹ Ø¹Ù„Ø§Ù…Ø© Ø£Ù† Ù‡Ø°Ø§ Ø§Ù„Ø·Ù„Ø¨ ØªÙ… Ø¯ÙØ¹Ù‡ØŸ')){
          o.payment.paid = true;
          o.payment.paidAt = new Date().toISOString();
          localStorage.setItem('orders', JSON.stringify(orders));
          loadOrders();
        }
      }
    };
    // Ø²Ø± Ø­Ø°Ù
    const delBtn = document.createElement('button');
    delBtn.className = 'small-btn del';
    delBtn.textContent = 'Ø­Ø°Ù';
    delBtn.onclick = ()=>{
      if(confirm('Ù‡Ù„ Ø£Ù†Øª Ù…ØªØ£ÙƒØ¯ Ù…Ù† Ø­Ø°Ù Ø§Ù„Ø·Ù„Ø¨ØŸ')){
        orders.splice(idx,1);
        renumberOrders();
        localStorage.setItem('orders', JSON.stringify(orders));
        loadOrders();
      }
    };
    div.appendChild(payBtn);
    div.appendChild(delBtn);
    box.appendChild(div);
  });
  document.getElementById('ordersCount').textContent = orders.length;
}

function formatPaymentInfo(info){
  if(!info) return '-';
  if(info.cardNumber) return `Ø­Ø§Ù…Ù„ Ø§Ù„Ø¨Ø·Ø§Ù‚Ø©: ${info.cardName} â€” Ø±Ù‚Ù…: ${maskCard(info.cardNumber)} â€” Ø¥Ù†ØªÙ‡Ù‰: ${info.exp || '-'}`;
  if(info.uwalletId) return `UWallet ID: ${info.uwalletId}`;
  if(info.note) return info.note;
  return JSON.stringify(info);
}
function maskCard(num){
  const s = String(num).replace(/\s+/g,'');
  if(s.length<=4) return s;
  return '**** **** **** ' + s.slice(-4);
}

/* ===================== Ø¥Ø¹Ø¯Ø§Ø¯Ø§Øª Ø§Ù„Ø­ÙØ¸ ===================== */
function saveSettings(){
  settings.bg = document.getElementById('bgColor').value;
  settings.text = document.getElementById('textColor').value;
  settings.btn = document.getElementById('btnColor').value;
  settings.support = document.getElementById('supportInput').value || settings.support;
  settings.admin = document.getElementById('adminInput').value || settings.admin;
  settings.warranty = document.getElementById('warrantyInput').value || settings.warranty;
  localStorage.setItem('siteSettings', JSON.stringify(settings));
  applySettings();
  alert('ØªÙ… Ø­ÙØ¸ Ø§Ù„Ø¥Ø¹Ø¯Ø§Ø¯Ø§Øª ÙˆØªØ·Ø¨ÙŠÙ‚Ù‡Ø§');
}

/* ===================== ØªØ­Ù…ÙŠÙ„ Ø§Ù„Ù…Ø¨Ø¯Ø¦ÙŠ ===================== */
(function init(){
  // Ø­ÙØ¸ Ø§Ù„Ø¥Ø¹Ø¯Ø§Ø¯Ø§Øª Ø§Ù„Ø§ÙØªØ±Ø§Ø¶ÙŠØ© Ù„Ùˆ Ù„Ù… ØªÙƒÙ† Ù…ÙˆØ¬ÙˆØ¯Ø©
  if(!localStorage.getItem('siteSettings')) localStorage.setItem('siteSettings', JSON.stringify(settings));
  orders = JSON.parse(localStorage.getItem('orders')) || [];
  applySettings();
  // Ù„Ùˆ Ø§Ù„Ù…Ø³Ø¤ÙˆÙ„ Ù…ÙØªÙˆØ­ Ø³Ø§Ø¨Ù‚Ø§Ù‹ (Ù„Ø§ Ù†ÙØ¹Ù„ ØªØ³Ø¬ÙŠÙ„ Ø¯Ø®ÙˆÙ„ ØªÙ„Ù‚Ø§Ø¦ÙŠ Ù„Ø£Ù…Ø§Ù†)
  document.getElementById('ordersCount').textContent = orders.length;
})();
</script>
</body>
</html>




